<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title> Google Hash Code and deadline24: my experience | Blog of Volodymyr Lyubinets </title> <meta name="description" content=" Google Hash Code and deadline24: my experience "> <meta name="keywords" content="Google Hash Code, deadline24, Hash Code, Google, topcoder, programming"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Social: Facebook / Open Graph --> <meta property="og:type" content="article"> <meta property="article:author" content="Volodymyr Lyubinets"> <meta property="article:section" content=""> <meta property="article:tag" content="Google Hash Code, deadline24, Hash Code, Google, topcoder, programming"> <meta property="article:published_time" content="2017-07-01 00:00:00 +0300"> <meta property="og:url" content="http://localhost:4000/2017/deadline-and-hashcode/"> <meta property="og:title" content=" Google Hash Code and deadline24: my experience | Blog of Volodymyr Lyubinets "> <meta property="og:image" content="http://localhost:4000"> <meta property="og:description" content=" Google Hash Code and deadline24: my experience "> <meta property="og:site_name" content="Volodymyr Lyubinets"> <meta property="og:locale" content="en_US"> <!-- Social: Twitter --> <meta name="twitter:card" content=""> <meta name="twitter:site" content=""> <meta name="twitter:title" content=" Google Hash Code and deadline24: my experience | Blog of Volodymyr Lyubinets "> <meta name="twitter:description" content=" Google Hash Code and deadline24: my experience "> <meta name="twitter:image:src" content="http://localhost:4000"> <!-- Social: Google+ / Schema.org --> <meta itemprop="name" content=" Google Hash Code and deadline24: my experience | Blog of Volodymyr Lyubinets "> <meta itemprop="description" content=" Google Hash Code and deadline24: my experience "> <meta itemprop="image" content="http://localhost:4000"> <!-- rel prev and next --> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="stylesheet" href="/assets/css/font-awesome.min.css"> <!-- Canonical link tag --> <link rel="canonical" href="http://localhost:4000/2017/deadline-and-hashcode/"> <link rel="alternate" type="application/rss+xml" title="Blog of Volodymyr Lyubinets" href="http://localhost:4000/feed.xml"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-44268710-5"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-44268710-5'); </script> </head> <body> <main class="wrapper"> <header class="site-header"> <nav class="nav"> <div class="container"> <h1 class="logo"><a href="/">vlyubin's <span>blog</span></a></h1> <ul class="navbar"> <li><a href="/about">About</a></li> <li><a href="/assets/resume.pdf">Resume</a></li> <li><a href="/files">Misc Files</a></li> </ul> </div> </nav> </header> <article class="post container" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"> <p class="post-meta"><time datetime="2017-07-01T00:00:00+03:00" itemprop="datePublished">Jul 1, 2017</time></p> <h1 class="post-title" itemprop="name headline">Google Hash Code and deadline24: my experience</h1> </header> <div class="post-content" itemprop="articleBody"> <p>Since I’m in Europe now, I got a chance to participate in two programming competitions that have onsite finals (as flying to Europe from North America to participate doesn’t make much sense). Both of these aren’t hackathons or ICPC-style competitions, instead they focus on optimization problems or games. I haven’t done competitions like this before, so it was an interesting experience.</p> <h2 id="google-hash-code">Google Hash Code</h2> <p>In Google Hash Code you are given one problem for a team of four. The problem has 3 or 4 test cases, which might allow some parallelization of work, but it’s usually the case that one participant ends up writing most of the code. You have to process the input on your own machine and submit the output, so that allows you use any technologies of your choice and gives you a bit more lenience with program runtimes - it’s OK if the program runs for a minute or two, and you don’t have to bother with shaving off an extra log(n) factor. I didn’t have a team until a week or so before the competition, but luckily a friend of mine was looking for a 4th member, so I joined their team. In the qualification round (see problem statements here), you had to distribute videos among the set of the cache servers so that viewers would get the fastest download rates (you have download speeds for each cache server). Each server had a limited amount of memory, so you couldn’t just stick each video everywhere. Searching for the best possible solution will take an exponential amount of time, and it’s likely that there aren’t any shortcuts. So you just had to find a solution which was good enough. It’s quite often that in these competitions you’ll just get some NP-hard problem and look for ways to solve it quickly with minimal damage to accuracy. For this problem a pretty obvious approach comes to mind - at each step try all possible pairs of videos and cache servers, and choose the one that brings down the current latency the most. This greedy algorithm turned out to produce pretty good results with almost all winning teams using a variation of it. The first straightforward implementation that I wrote was a bit too dumb and was too slow to process two of the test cases, so I had to rewrite it to avoid recomputing all pairs at each step. Once we added a couple of heuristics to the solution, we made our final submissions minutes minutes before the end. Since the scoreboard was frozen, and we weren’t in top 50 before the freeze, it was unclear if we would make it to the finals. Luckily, we ended up placing 46-th (out of 2815), which meant we were going to Paris (top 50 teams)!</p> <p><img src="https://d2mxuefqeaa7sj.cloudfront.net/s_4F2F7ECA1485D646AE2033F2C179B6490D90308A8FC1D102FC37333AC2DE00EF_1493244624938_coding.JPG" alt="At the finals" /></p> <p>The final problem was about placing a set of wifi routers to maximize coverage in a building. It was a nice problem, but perhaps the organizers picked a problem that was a bit too simple - top 47 had scores within 3% of each other. Nevertheless, the first two spots were taken by the folks who would later take top 2 spots of dealdine24, so even this tight contest had a room to stand out. Just like in the qualification, after nailing the core part of solution, we found a way for slight improvements with misc heuristics (this time I didn’t write much code). In the end, we performed quite well, placing 9-th. Even though Hash Code finals had teams from 25 countries, Eastern Europe was on top as usual (this was Europe, Africa and ME - so China couldn’t participate) - the top 10 had 5 teams from Russia, 2 from Ukraine and 1 from Georgia. Both Ukrainian teams were from Lviv :).</p> <p><img src="https://d2mxuefqeaa7sj.cloudfront.net/s_4F2F7ECA1485D646AE2033F2C179B6490D90308A8FC1D102FC37333AC2DE00EF_1493244394967_Screen+Shot+2017-04-02+at+11.42.53+PM.png" alt="" /> <em>Not much value in a piece of paper that says you’re 9th … gotta do better next time</em></p> <p>Traveling to onsite rounds gives you a chance to visit new cities (technically it’s very easy to do so in 21st century, but, you know, laziness kicks in). Unfortunately, I had to head back to Amsterdam in the evening, so I had to choose between Eiffel Tower and Notre Dame De Paris, and I chose the latter. It was a good choice - that’s a nice part of town to walk around! So all-in-all, it was an enjoyable trip. See pictures at the bottom of this post.</p> <h2 id="deadline24">deadline24</h2> <p><img src="https://d2mxuefqeaa7sj.cloudfront.net/s_4F2F7ECA1485D646AE2033F2C179B6490D90308A8FC1D102FC37333AC2DE00EF_1493248827789_IMG_0728.JPG" alt="" /> <em>The contest was long, so in case it gets cold …</em></p> <p>Unlike Hash Code, deadline24 has several problems in each round, so this time each participant had to do his/her share. In the qualification round I only worked on one problem, which was basically playing Scrabble by yourself to maximize the score. My algo was to chose the best word at each step greedily - a simple greedy strategy is often a good first step. There were a couple of nice data structures used, such as a trie for fast dictionary lookup - regular ACM stuff helps in these competitions as well. We did a good job on that round, placing 12th, mostly thanks to <a href="https://www.topcoder.com/members/Deretin/details/?track=DATA_SCIENCE&amp;subTrack=SRM">Roman</a> solving all three ACM-style problems quickly. The final round had a really interesting setup. First of all, it’s a 24 hour competition, so there was a lot of coffee and Red Bull involved (a bit of sleep as well). In this competition, you had to write programs to compete against other teams. An interesting part of the setup is that the location had no internet access, and the contest was conducted over local network with your program communicating with the game server over tcp/ip. This meant that unlike in Hash Code, you couldn’t google anything useful (although that rarely helps). To make sure that there’s enough stuff to do during these 24 hours, each problem has a really complicated statement with tons of inputs (nearly 15 pages long) - that’s quite annoying at first, but then you get used to it.</p> <p><img src="https://d2mxuefqeaa7sj.cloudfront.net/s_4F2F7ECA1485D646AE2033F2C179B6490D90308A8FC1D102FC37333AC2DE00EF_1493247264393_teammates.JPG" alt="" /> <em>My teammates looking at performance of solution that Taras (on the right) wrote.</em></p> <p>My problem was a parody on Elon Musk - you had to manage a car park to make money that will allow you to launch a rocket. There were lots of other small aspects, but the core part was making money with cars, and for some weird reason you got money for making long cycles that visit unique edges only. There were a couple of other caveats here, like picking up the biggest bonus from visiting a city, and making sure you have enough fuel to pass through edges (which depends on traffic from other teams). Mostly, it was about finding long cycles with good conditions. My first approach of DFS-ing with cutoffs was really bad - I couldn’t process depth larger than 10 within a second (which was the time you got per 1 turn). My second (and final) approach was to run Dijkstra from the start point and then run another Dijkstra from each city that was within CURRENT_FUEL / 2 from start to get route from that city back to start. In the second Dijkstra we exclude edges used in the first run - that way the combined result has only unique edges. Since city graph was fairly small (less than 10k vertices) and a lot of cities were cut out by fuel criteria, this usually took under 0.2 seconds, which was excellent. I made some tweaks later, but this was the core of the solution. Unfortunately, the scoring for this problem was heavily biased to launching a rocket (step 2), which typically only the team with most money could do. Unfortunately, that was not me 😞 I blew off my only chance to launch a rocket by having a bug in my solution - but that was the code written at hour 16, right before I went to sleep. Nevertheless, I finished 5th among the teams on my problem, although that might have been a consequence of other teams abandoning this problem, as it was hard to steal points from the top team (<a href="https://www.topcoder.com/members/tourist/details/?track=DATA_SCIENCE&amp;subTrack=SRM">tourist</a> and co). My performance could have been better though - I missed a stupid errata sheet that had corrections to scoring coefficients - the math I’ve been using to count points and fuel was wrong (I wonder how the f did my solution do so well despite this)! The contest was a total disaster for our team - we ended up 25th, way below our expectations. However, the contest organization and problems were really good, so I still enjoyed the competition!</p> <p><img src="https://d2mxuefqeaa7sj.cloudfront.net/s_4F2F7ECA1485D646AE2033F2C179B6490D90308A8FC1D102FC37333AC2DE00EF_1493248993748_location.JPG" alt="" /> <em>deadling24 venue - used to be a coal mine here</em></p> <p>deadline24 was held in Katowice (Poland), in a building that used to be a coal mine (or a storage for it) - teams were located on floor -4 (under the ground). Now there’s a museum there. After the contest we went to an escape room, which was in Polish and conducted by a guy who didn’t speak English. Luckily, I can make up Polish phrases by throwing in more consonants into Ukrainian 😃 After all, I also have a couple of “How to curse in Polish” lessons from youtube under my belt 😃 That would be helpful for describing our performance…</p> <h2 id="conclusion">Conclusion</h2> <p>Well, competitions like this are really interesting. There’s a much wider room for creativity than in ACM-style contests, with whole families of algorithms such as hill climbing being useful - they rarely come up in ACM. Personally, I think the basic strategy for these contests is:</p> <ol> <li>Figure out the core part of your approach (e.g. use of Dijkstra over DFS with cutoffs)</li> <li>Extend it with various heuristics, etc. (e.g. incorporating new variables into Dijkstra scoring function).</li> </ol> <p>Overall, it was very fun! Unlike Hash Code, deadline24 teams were mostly current/former AMC-ers. There was even a googler who flew in to participate from California, as well as a team of South Africans (headed by bmerry). It was quite wide on age spectrum as well - a team that won the 2 previous editions and placed 3rd this time consists of three Polish folks over 30 - all former ACM medalists. Two of them are CS profs at Warsaw University and one of them is a <a href="https://www.topcoder.com/members/Psyho/">Psyho</a> - idk what he does 😃 I wonder if these contests are indeed as fun as programming can get?</p> <p>P.S. Pics of Paris:</p> <p><img src="https://d2mxuefqeaa7sj.cloudfront.net/s_4F2F7ECA1485D646AE2033F2C179B6490D90308A8FC1D102FC37333AC2DE00EF_1493244793540_paris1.JPG" alt="" /> <em>Spring was full-force in Paris</em></p> <p><img src="https://d2mxuefqeaa7sj.cloudfront.net/s_4F2F7ECA1485D646AE2033F2C179B6490D90308A8FC1D102FC37333AC2DE00EF_1493244793513_paris2.JPG" alt="" /> <em>Notre Dame is much bigger than it looks on the pictures</em></p> <p><img src="https://d2mxuefqeaa7sj.cloudfront.net/s_4F2F7ECA1485D646AE2033F2C179B6490D90308A8FC1D102FC37333AC2DE00EF_1493249253831_moulin3.JPG" alt="" /> <em>We lived in the area where various famous writers and singers used to live</em></p> <p><img src="https://d2mxuefqeaa7sj.cloudfront.net/s_4F2F7ECA1485D646AE2033F2C179B6490D90308A8FC1D102FC37333AC2DE00EF_1493249253844_moulin5.JPG" alt="" /> <em>Churches in Paris are HUGE</em></p> <p><img src="https://d2mxuefqeaa7sj.cloudfront.net/s_4F2F7ECA1485D646AE2033F2C179B6490D90308A8FC1D102FC37333AC2DE00EF_1493249253768_moulin.JPG" alt="" /> <em>Some sex shops are HUGE too</em></p> <p><img src="https://d2mxuefqeaa7sj.cloudfront.net/s_4F2F7ECA1485D646AE2033F2C179B6490D90308A8FC1D102FC37333AC2DE00EF_1493249253790_moulin2.JPG" alt="" /> <em>HashCode participants represented 25 countries</em></p> <p>That’s it.</p> </div> </article> <footer class="site-footer"> <div class="container"> <small>I'm worse at what I do best and for this gift, I feel blessed</small> </div> </footer> </main> </body> </html>
